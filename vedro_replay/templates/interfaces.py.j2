from vedro_httpx import AsyncHTTPInterface, Response

from vedro_replay import Request


class Api(AsyncHTTPInterface):
    def __init__(self, base_url: str) -> None:
        super().__init__(base_url)

    async def do_request(self, request: Request) -> Response:
        return await self._request(
            method=request.method,
            url=request.url,
            headers=request.headers,
            json=request.json_body
        )
